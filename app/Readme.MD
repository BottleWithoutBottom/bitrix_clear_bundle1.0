**Bitrix_clear_bundle1.0**

Задачей данного пакета является облегчение выполнения повседневных задач типичного битриксоида.

В сборку входят такие пакеты. как:

1) nikic/FastRoute https://github.com/nikic/FastRoute в роли роутера
2) Php-DI https://php-di.org/ в роли DI-контейнера
3) tightenco/collect https://packagist.org/packages/tightenco/collect в роли пакета для более удобной работы с массивами (Коллекции laravel)

**Самописные вещи**

1) MVC (MVP, если хотите) + Сервисы:

Использование MVC, в основном, завязано на обработке AJAX-запросов из роутера, с дальнейшним автовайрингом при помощи PHP-di. Однако, ничто не мешает использовать Модели, Вьюшки и сервисы ЗА пределами контроллера. Желательно это делать при помощи контейнера, чтобы не засорять код.

_Пример использования моделей отдельно от роутера:_

    $container = getContainer();
    $myModel = $container->get(MyModel::class);

информацию о том, как классы попадают в контейнер, ищи ниже.

2) Стандартная структура с константами, инклюдами, битриксовыми обработчиками событий, которые автоматически подтягиваются в init.php.

КОНСТАНТЫ:

Все константы для путей до файлов, прописывай в `/local/constants/paths.php`;
Все константы для AJAX-запросов в роутер, прописывай в `/local/constants/ajax-virtual.php`;
Все константы для ресайзера картинок (ищи ниже), прописывай в `/local/app/config/resizer.php`;

БИТРИКСОВЫЕ ОБРАБОТЧИКИ СОБЫТИЙ:

Обработчики событий из битрикса регистрируй в `/local/eventHandlers/eventHandlers.php`. Там же лежит информация о том, как их регистрировать.

MODEL:

В самописке присутствует несколь видов моделей:

1) Модели для работы с БД;
2) Просто модели;

1) Модели для работы с БД созданы для того, чтобы облегчить работу с битриксовым ядром.

Основополагающие классы: 
`App\Model\Infoblock\InfoblockModel` - Класс для работы с инфоблоками (под каждый созданый инфоблок создавай классы и наследуйся от `InfoblockModel`);
`App\Model\Highload\HLModel` - Класс дял работы с хайлодами (под каждый созданный хайлод создавай классы и наследуйся от 'HLModel');

У `InfoblockModel`-наследников создавай свойство `protected $symbolCode = 'IB_ADVENTURE';` и `protected $infoblockId = 2;` для того, чтобы модель работала в полную силу
У `HLModel`-наследников создавай свойство `protected static $HL_ID = 1;` для того же

`InfoblockModel` позволяет в удобном формате доставать элементы, связанные с текущим элементом инфоблока при помощи метода `fetchElementsProperty($properties, $propertyName, $order, $filter, $select)`
Для того, чтобы метод отработал, в `$properties` нужно передать массив свойств PROPERTIES, полученный при помощи старого ядра битрикс `(Fetch(), GetNext(), GetNextElement())`, в `$propertyName` нужно передать название свойства.

`fetchAllElementsProperty($items, $propertyName, $order, $filter, $select)` позволяет делать то же самые, но вместо `$properties` принимает массив элементов инфоблока.

2) Просто модели созданы для того, чтобы не писать одно и то же по сто раз в повседневных задачах.

Например, `App\Models\JSONModel` - класс, для более удобного формирования ответов от сервера.
Пример использования:

`$response = new JSONModel();`
`$response->setStatus(true/false);` - ответ от сервера
`$response->setData($data);` - данные от сервера
`$response->getAsString()` - передать данные в формате JSON